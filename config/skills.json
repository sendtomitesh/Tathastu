{
  "debug": true,
  "openai": {
    "model": "gpt-4o-mini"
  },
  "whatsapp": {
    "onlyFromMe": true,
    "onlyPrivateChats": true,
    "onlySelfChat": true
  },
  "skills": [
    {
      "id": "tally",
      "enabled": true,
      "name": "Tally",
      "config": {
        "port": "9000"
      },
      "actions": [
        {
          "id": "get_ledger",
          "description": "Get ledger or statement for a party by name. Also use for 'transactions for X', 'check party X', 'party details for X'. Shows all transaction types (Sales, Payment, Receipt, etc.) with amounts. Supports pagination.",
          "parameters": [
            "party_name",
            "date_from",
            "date_to",
            "page"
          ]
        },
        {
          "id": "get_vouchers",
          "description": "Get vouchers, optionally by date range and voucher type (e.g. Sales, Purchase, Payment, Receipt). Supports pagination.",
          "parameters": [
            "date_from",
            "date_to",
            "voucher_type",
            "limit",
            "page"
          ]
        },
        {
          "id": "get_daybook",
          "description": "Get today's daybook (all entries for today). Use for 'what happened today', 'today's entries', 'daybook'. Can also show for a specific date.",
          "parameters": [
            "date_from",
            "date_to"
          ]
        },
        {
          "id": "list_ledgers",
          "description": "List ledgers, optionally filtered by group (e.g. Sundry Debtors, Bank Accounts). Supports pagination — use page=2, page=3 etc. when user says 'more', 'next', 'page 2'.",
          "parameters": [
            "group_filter",
            "page"
          ]
        },
        {
          "id": "get_party_gstin",
          "description": "Get GSTIN number for a party",
          "parameters": [
            "party_name"
          ]
        },
        {
          "id": "get_party_balance",
          "description": "Get receivable or payable balance for a party",
          "parameters": [
            "party_name"
          ]
        },
        {
          "id": "get_outstanding",
          "description": "Get outstanding payable or receivable report. Use type=payable for what we owe, type=receivable for what others owe us. Supports pagination.",
          "parameters": [
            "type",
            "page"
          ]
        },
        {
          "id": "get_sales_report",
          "description": "Get sales or purchase report with party-wise breakdown. Use type=sales or type=purchase. Defaults to current month.",
          "parameters": ["type", "date_from", "date_to"]
        },
        {
          "id": "get_cash_bank_balance",
          "description": "Get cash and bank balances. Use for 'bank balance', 'cash in hand', 'how much money do we have'.",
          "parameters": []
        },
        {
          "id": "get_profit_loss",
          "description": "Get profit and loss summary. Use for 'P&L', 'profit loss', 'are we profitable'. Defaults to current FY.",
          "parameters": ["date_from", "date_to"]
        },
        {
          "id": "get_expense_report",
          "description": "Get expense breakdown by head. Use for 'expenses this month', 'where is money going', 'expense report'. Supports pagination.",
          "parameters": ["date_from", "date_to", "page"]
        },
        {
          "id": "get_stock_summary",
          "description": "Get stock/inventory summary. Use for 'stock of X', 'inventory', 'show stock'. Optionally filter by item name. Supports pagination.",
          "parameters": ["item_name", "page"]
        },
        {
          "id": "get_gst_summary",
          "description": "Get GST tax summary showing input/output tax and net liability. Use for 'GST this month', 'tax liability', 'GST summary'.",
          "parameters": ["date_from", "date_to"]
        },
        {
          "id": "get_party_invoices",
          "description": "Get invoices for a party. Use for 'invoices for Meril', 'bills of ABC', 'show invoices of X', 'sales invoices for Y'. Can filter by date and voucher type (Sales/Purchase).",
          "parameters": ["party_name", "date_from", "date_to", "voucher_type", "page"]
        },
        {
          "id": "get_invoice_pdf",
          "description": "Get a specific invoice as PDF to share. Use for 'send invoice MB-25-26-001', 'PDF of invoice INV-100', 'share invoice #123'. Requires the exact invoice/voucher number.",
          "parameters": ["invoice_number", "voucher_type"]
        },
        {
          "id": "get_bill_outstanding",
          "description": "Get pending bills for a party. Use for 'pending bills of Meril', 'unpaid invoices for X', 'bill outstanding'.",
          "parameters": ["party_name"]
        },
        {
          "id": "tally_status",
          "description": "Check Tally status — is it running, HTTP responding, which companies are loaded, data folder info. Use for 'tally status', 'is tally running', 'check tally'.",
          "parameters": []
        },
        {
          "id": "list_companies",
          "description": "List all companies loaded in Tally. Use for 'which companies', 'list companies', 'what companies are in tally'.",
          "parameters": []
        },
        {
          "id": "restart_tally",
          "description": "Restart TallyPrime — kills and relaunches. Use for 'restart tally', 'tally not responding', 'tally stuck', 'reboot tally'.",
          "parameters": []
        },
        {
          "id": "start_tally",
          "description": "Start TallyPrime if not running. Use for 'start tally', 'open tally', 'launch tally'.",
          "parameters": []
        },
        {
          "id": "open_company",
          "description": "Open a specific company in Tally. Use for 'open Mobibox', 'switch to Afflink', 'load company Mobibox'. Updates tally.ini and restarts Tally with that company.",
          "parameters": ["company_name"]
        },
        {
          "id": "get_top_customers",
          "description": "Get top customers by sales value. Use for 'top customers', 'best customers', 'who buys the most'. Defaults to current month. Supports limit (top 5/10/20).",
          "parameters": ["date_from", "date_to", "limit"]
        },
        {
          "id": "get_top_suppliers",
          "description": "Get top suppliers by purchase value. Use for 'top suppliers', 'biggest vendors', 'who do we buy from most'. Defaults to current month.",
          "parameters": ["date_from", "date_to", "limit"]
        },
        {
          "id": "get_top_items",
          "description": "Get top selling or purchased items by value. Use for 'top selling items', 'best selling products', 'most purchased items'. Use type=purchase for purchase items. Defaults to current month.",
          "parameters": ["type", "date_from", "date_to", "limit"]
        },
        {
          "id": "get_trial_balance",
          "description": "Get trial balance showing all group-level debit and credit totals. Use for 'trial balance', 'TB'. Defaults to current FY.",
          "parameters": ["date_from", "date_to"]
        },
        {
          "id": "get_balance_sheet",
          "description": "Get balance sheet showing assets and liabilities. Use for 'balance sheet', 'BS', 'assets and liabilities'. Defaults to current FY.",
          "parameters": ["date_from", "date_to"]
        },
        {
          "id": "get_ageing_analysis",
          "description": "Get ageing analysis of outstanding bills in buckets (0-30, 31-60, 61-90, 90+ days). Use for 'ageing', 'aging analysis', 'overdue analysis', 'old dues'. Use type=receivable or type=payable.",
          "parameters": ["type"]
        },
        {
          "id": "get_inactive_customers",
          "description": "Get customers who haven't ordered recently. Use for 'inactive customers', 'dormant customers', 'who stopped buying'. Default 30 days, use days=60/90 for longer.",
          "parameters": ["days"]
        },
        {
          "id": "get_inactive_suppliers",
          "description": "Get suppliers with no recent purchases. Use for 'inactive suppliers', 'dormant vendors'.",
          "parameters": ["days"]
        },
        {
          "id": "get_inactive_items",
          "description": "Get items not sold/purchased recently. Use for 'inactive items', 'slow moving items', 'dead stock'. Use type=purchase for purchase side.",
          "parameters": ["type", "days"]
        },
        {
          "id": "export_excel",
          "description": "Export the last report as Excel file. Use for 'export excel', 'download excel', 'send as excel', 'excel report'. Must run a report first.",
          "parameters": ["report_name"]
        },
        {
          "id": "get_sales_orders",
          "description": "Get sales orders or any voucher type. If no Sales Orders exist, shows available voucher types. Use voucher_type to query a specific type (e.g. 'Payment', 'Journal').",
          "parameters": ["date_from", "date_to", "voucher_type"]
        },
        {
          "id": "get_purchase_orders",
          "description": "Get purchase orders or any voucher type. If no Purchase Orders exist, shows available voucher types. Use voucher_type to query a specific type.",
          "parameters": ["date_from", "date_to", "voucher_type"]
        },
        {
          "id": "get_pending_orders",
          "description": "Get pending/unfulfilled orders by comparing orders vs invoices. Use for 'pending orders', 'unfulfilled orders', 'order status'. Use type=sales or type=purchase. Use voucher_type for custom types.",
          "parameters": ["type", "date_from", "date_to", "voucher_type"]
        },
        {
          "id": "get_payment_reminders",
          "description": "Get list of parties with overdue payments and prepare reminders. Use for 'payment reminders', 'overdue reminders', 'remind customers', 'collection reminders'.",
          "parameters": []
        },
        {
          "id": "send_reminder",
          "description": "Send payment reminder to a specific party. Use for 'send reminder to Meril', 'remind ABC about payment'. Shows reminder preview with party's phone number.",
          "parameters": ["party_name"]
        },
        {
          "id": "create_voucher",
          "description": "Create a voucher in Tally (Sales Invoice, Purchase, Receipt, Payment). Use for 'create sales invoice for Meril 50000', 'record payment from ABC 25000', 'create receipt'. Party must exist in Tally.",
          "parameters": ["voucher_type", "party_name", "amount", "date", "narration", "items", "ledger", "cash_ledger"]
        }
      ]
    }
  ],
  "llm": {
    "provider": "openai",
    "model": "gpt-4o-mini"
  },
  "tenants": [],
  "translation": {
    "enabled": true,
    "provider": "sarvam",
    "model": "mayura:v1",
    "translateReplies": true
  },
  "resolver": {
    "enabled": true,
    "confidenceThreshold": 0.7,
    "patternStorePath": "data/intent-patterns.json",
    "contextPatterns": ["^\\d{1,2}$", "more", "next", "next page", "page \\d+", "aur", "aur dikhao", "aage", "vadhu", "aagal", "his", "her", "their", "same", "yes", "haan", "ha"],
    "correctionTriggers": ["wrong", "galat", "ખોટું", "ghalat"],
    "openAIFallbackEnabled": true
  }
}